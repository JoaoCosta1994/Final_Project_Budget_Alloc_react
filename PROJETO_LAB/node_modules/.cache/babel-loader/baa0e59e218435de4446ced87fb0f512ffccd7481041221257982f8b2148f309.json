{"ast":null,"code":"var _jsxFileName = \"/home/joaoroco/Desktop/REACT/PROJETO/PROJETO_LAB/src/context/AppContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer } from 'react';\n\n// 5. The reducer - this is used to update the state, based on the action\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppReducer = (state, action) => {\n  let new_expenses = [];\n  let new_budget = [];\n  switch (action.type) {\n    case 'BUDGET_CHANGED':\n      alert(\"teste \" + state.InitalBudget);\n      alert(\"teste \" + action.payload.budget);\n      alert(\"teste \" + action.type);\n      state.InitalBudget = action.payload.budget;\n      //action.payload;\n      action.type = \"DONE\";\n      return {\n        ...state\n      };\n    case 'ADD_BUDGET':\n      let updatedqty = false;\n      state.expenses.map(expense => {\n        if (expense.name === action.payload.name) {\n          expense.budget = expense.budget + action.payload.budget;\n          updatedqty = true;\n        }\n        new_expenses.push(expense);\n        return true;\n      });\n      state.expenses = new_expenses;\n      action.type = \"DONE\";\n      return {\n        ...state\n      };\n    case 'RED_BUDGET':\n      state.expenses.map(expense => {\n        if (expense.name === action.payload.name) {\n          expense.budget = expense.budget - action.payload.budget;\n        }\n        expense.budget = expense.budget < 0 ? 0 : expense.budget;\n        new_expenses.push(expense);\n        return true;\n      });\n      state.expenses = new_expenses;\n      action.type = \"DONE\";\n      return {\n        ...state\n      };\n    case 'MORE_TEN':\n      state.expenses.map(expense => {\n        if (expense.name === action.payload.name) {\n          expense.budget = expense.budget + 10;\n        }\n        expense.budget = expense.budget < 0 ? 0 : expense.budget;\n        new_expenses.push(expense);\n        return true;\n      });\n      state.expenses = new_expenses;\n      action.type = \"DONE\";\n      return {\n        ...state\n      };\n    case 'LESS_TEN':\n      state.expenses.map(expense => {\n        if (expense.name === action.payload.name) {\n          expense.budget = expense.budget - 10;\n        }\n        expense.budget = expense.budget < 0 ? 0 : expense.budget;\n        new_expenses.push(expense);\n        return true;\n      });\n      state.expenses = new_expenses;\n      action.type = \"DONE\";\n      return {\n        ...state\n      };\n    case 'DELETE_ITEM':\n      state.expenses.map(expense => {\n        if (expense.name === action.payload.name) {\n          expense.budget = 0;\n        }\n        new_expenses.push(expense);\n        return true;\n      });\n      state.expenses = new_expenses;\n      action.type = \"DONE\";\n      return {\n        ...state\n      };\n    case 'CHG_LOCATION':\n      action.type = \"DONE\";\n      state.Location = action.payload;\n      return {\n        ...state\n      };\n    default:\n      return state;\n  }\n};\n\n// 1. Sets the initial state when the app loads MUDAR Quantity para budget\n_c = AppReducer;\nexport const initialState = {\n  expenses: [{\n    id: \"IT Department\",\n    name: 'IT Department',\n    budget: 0,\n    unitprice: 500\n  }, {\n    id: \"Finance Department\",\n    name: 'Finance Department',\n    budget: 0,\n    unitprice: 300\n  }, {\n    id: \"Human Resources Department\",\n    name: 'Human Resources Department',\n    budget: 0,\n    unitprice: 400\n  }, {\n    id: \"Sales Department\",\n    name: 'Sales Department',\n    budget: 0,\n    unitprice: 600\n  }, {\n    id: \"Marketing Department\",\n    name: 'Marketing Department',\n    budget: 0,\n    unitprice: 200\n  }],\n  Location: '£',\n  InitalBudget: 200\n};\n\n// 2. Creates the context this is the thing our components import and use to get the state\nexport const AppContext = /*#__PURE__*/createContext();\n\n// 3. Provider component - wraps the components we want to give access to the state\n// Accepts the children, which are the nested(wrapped) components\nexport const AppProvider = props => {\n  _s();\n  // 4. Sets up the app state. takes a reducer, and an initial state\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  const totalExpenses = state.expenses.reduce((total, item) => {\n    return total = total + item.unitprice * item.quantity;\n  }, 0);\n  state.BudgetValue = totalExpenses;\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      expenses: state.expenses,\n      BudgetValue: state.BudgetValue,\n      dispatch,\n      Location: state.Location,\n      RemBudget: state.CartValue\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n};\n_s(AppProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c2 = AppProvider;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppReducer\");\n$RefreshReg$(_c2, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useReducer","jsxDEV","_jsxDEV","AppReducer","state","action","new_expenses","new_budget","type","alert","InitalBudget","payload","budget","updatedqty","expenses","map","expense","name","push","Location","_c","initialState","id","unitprice","AppContext","AppProvider","props","_s","dispatch","totalExpenses","reduce","total","item","quantity","BudgetValue","Provider","value","RemBudget","CartValue","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/home/joaoroco/Desktop/REACT/PROJETO/PROJETO_LAB/src/context/AppContext.js"],"sourcesContent":["import React, { createContext, useReducer } from 'react';\n\n// 5. The reducer - this is used to update the state, based on the action\nexport const AppReducer = (state, action) => {\n    let new_expenses = [];\n    let new_budget=[];\n    \n    switch (action.type) {\n        \n        case 'BUDGET_CHANGED':\n            \n            alert(\"teste \"+state.InitalBudget);\n            alert(\"teste \"+action.payload.budget);\n            alert(\"teste \"+action.type);\n            state.InitalBudget=action.payload.budget;\n            //action.payload;\n            action.type = \"DONE\";\n\n            return {\n                ...state,\n            };\n        case 'ADD_BUDGET':\n            let updatedqty = false;\n            \n            state.expenses.map((expense)=>{\n            \n                if(expense.name === action.payload.name) {\n                   \n                    expense.budget = expense.budget + action.payload.budget;\n                  \n                    updatedqty = true;\n                }\n                new_expenses.push(expense);\n                return true;\n            })\n            state.expenses = new_expenses;\n            action.type = \"DONE\";\n            return {\n                ...state,\n            };\n\n            case 'RED_BUDGET':\n                state.expenses.map((expense)=>{\n                  \n                    if(expense.name === action.payload.name) {\n                        expense.budget = expense.budget - action.payload.budget;\n                    }\n                    expense.budget = expense.budget < 0 ? 0: expense.budget;\n                    new_expenses.push(expense);\n                    return true;\n                })\n                state.expenses = new_expenses;\n                action.type = \"DONE\";\n                return {\n                    ...state,\n                };\n                case 'MORE_TEN':\n                state.expenses.map((expense)=>{\n                  \n                    if(expense.name === action.payload.name) {\n                        expense.budget = expense.budget +10;\n                    }\n                    expense.budget = expense.budget < 0 ? 0: expense.budget;\n                    new_expenses.push(expense);\n                    return true;\n                })\n                state.expenses = new_expenses;\n                action.type = \"DONE\";\n                return {\n                    ...state,\n                };\n                case 'LESS_TEN':\n                state.expenses.map((expense)=>{\n                  \n                    if(expense.name === action.payload.name) {\n                        expense.budget = expense.budget - 10;\n                    }\n                    expense.budget = expense.budget < 0 ? 0: expense.budget;\n                    new_expenses.push(expense);\n                    return true;\n                })\n                state.expenses = new_expenses;\n                action.type = \"DONE\";\n                return {\n                    ...state,\n                };\n        case 'DELETE_ITEM':\n            state.expenses.map((expense)=>{\n                if(expense.name === action.payload.name) {\n                    expense.budget = 0;\n                }\n                new_expenses.push(expense);\n                return true;\n            })\n            state.expenses = new_expenses;\n            action.type = \"DONE\";\n            return {\n                ...state,\n            };\n    case 'CHG_LOCATION':\n            action.type = \"DONE\";\n            state.Location = action.payload;\n            return {\n                ...state\n            }\n\n        default:\n            return state;\n    }\n};\n\n// 1. Sets the initial state when the app loads MUDAR Quantity para budget\nexport const initialState = {\n    expenses: [\n        { id: \"IT Department\", name: 'IT Department', budget: 0, unitprice: 500 },\n        { id: \"Finance Department\", name: 'Finance Department', budget: 0, unitprice: 300 },\n        { id: \"Human Resources Department\", name: 'Human Resources Department', budget: 0, unitprice: 400 },\n        { id: \"Sales Department\", name: 'Sales Department', budget: 0, unitprice: 600 },\n        { id: \"Marketing Department\", name: 'Marketing Department', budget: 0, unitprice: 200 },\n    ],\n    Location: '£',\n    InitalBudget:200\n};\n\n// 2. Creates the context this is the thing our components import and use to get the state\nexport const AppContext = createContext();\n\n// 3. Provider component - wraps the components we want to give access to the state\n// Accepts the children, which are the nested(wrapped) components\nexport const AppProvider = (props) => {\n    // 4. Sets up the app state. takes a reducer, and an initial state\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n\n    const totalExpenses = state.expenses.reduce((total, item) => {\n        return (total = total + (item.unitprice*item.quantity));\n    }, 0);\nstate.BudgetValue = totalExpenses;\n\n    return (\n        <AppContext.Provider\n            value={{\n                expenses: state.expenses,\n                BudgetValue: state.BudgetValue,\n                dispatch,\n                Location: state.Location,\n                RemBudget: state.CartValue\n            }}\n        >\n            {props.children}\n        </AppContext.Provider>\n    );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}